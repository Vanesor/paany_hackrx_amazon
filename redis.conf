# Redis Configuration for RAG System Caching
# Optimized for embedding and query caching

# Basic Configuration
bind 0.0.0.0
port 6379
timeout 0

# Memory Management
maxmemory 500mb
maxmemory-policy allkeys-lru

# Persistence Configuration
save 900 1
save 300 10
save 60 10000

# Enable RDB compression
rdbcompression yes
rdbchecksum yes

# Log Configuration
loglevel notice
logfile "redis-rag.log"

# Performance Optimizations
tcp-backlog 511
databases 16

# Security (uncomment and set password in production)
# requirepass your_secure_password_here

# Append-only file (AOF) for durability
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec

# Client Configuration
maxclients 10000

# Slow log
slowlog-log-slower-than 10000
slowlog-max-len 128
